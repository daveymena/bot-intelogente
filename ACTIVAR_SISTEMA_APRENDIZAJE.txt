========================================
ACTIVAR SISTEMA DE APRENDIZAJE LOCAL
========================================

NUEVO SISTEMA IMPLEMENTADO:
âœ… Base de conocimiento local
âœ… Aprendizaje automÃ¡tico de conversaciones
âœ… Respaldo cuando APIs fallan
âœ… Se vuelve mÃ¡s inteligente con el tiempo

========================================
EJECUTAR EN ORDEN:
========================================

1. GENERAR CLIENTE DE PRISMA:
   
   npx prisma generate


2. CREAR TABLA EN BASE DE DATOS:
   
   npx prisma db push


3. PROBAR EL SISTEMA:
   
   npx tsx scripts/test-knowledge-base.ts


4. REINICIAR EL BOT:
   
   npm run dev


========================================
QUÃ‰ ESPERAR:
========================================

Al iniciar el bot verÃ¡s:
âœ… "ğŸ”‘ 8 API keys de Groq disponibles"
âœ… "ğŸ§  Inicializando base de conocimiento local..."
âœ… "âœ… X entradas cargadas en memoria"

Durante las conversaciones:
âœ… Respuestas exitosas se guardan automÃ¡ticamente
âœ… Si las APIs fallan, busca en conocimiento local
âœ… El bot aprende con cada conversaciÃ³n

========================================
CÃ“MO FUNCIONA:
========================================

ESCENARIO 1 - APIs Disponibles:
Cliente: "tienes el curso de piano?"
   â†“
Bot usa Groq API
   â†“
âœ… Respuesta generada
   â†“
ğŸ§  Respuesta guardada en conocimiento local
   â†“
Cliente recibe respuesta

ESCENARIO 2 - APIs Agotadas:
Cliente: "tienes el curso de piano?"
   â†“
Bot intenta con 8 API keys
   â†“
âŒ Todas tienen rate limit
   â†“
ğŸ§  Bot busca en conocimiento local
   â†“
âœ… Encuentra respuesta similar (95% confianza)
   â†“
Cliente recibe: "Â¡Hola! ğŸ˜„ SÃ­, el Curso..."
                + "ğŸ’¡ Respuesta basada en conocimiento previo"

========================================
BENEFICIOS:
========================================

âœ… Funciona incluso sin APIs externas
âœ… Aprende de conversaciones exitosas
âœ… Respuestas instantÃ¡neas desde cachÃ©
âœ… Se adapta al negocio especÃ­fico
âœ… Ahorra tokens de API
âœ… Mejor experiencia de usuario

========================================
VERIFICAR QUE FUNCIONA:
========================================

1. EnvÃ­a un mensaje por WhatsApp
2. Revisa los logs:
   ğŸ§  "Guardando respuesta exitosa..."
   âœ… "Nueva entrada creada"

3. Simula rate limit (desconecta internet)
4. EnvÃ­a el mismo mensaje
5. VerÃ¡s:
   ğŸ§  "Buscando en base de conocimiento local..."
   âœ… "Respuesta encontrada (score: 95)"

========================================
COMANDOS ÃšTILES:
========================================

# Ver estadÃ­sticas
npx tsx scripts/test-knowledge-base.ts

# Limpiar entradas de baja calidad
npx tsx -e "import { LocalKnowledgeBase } from './src/lib/local-knowledge-base'; LocalKnowledgeBase.cleanLowQualityEntries()"

# Ver cuÃ¡ntas entradas hay
npx tsx -e "import { LocalKnowledgeBase } from './src/lib/local-knowledge-base'; LocalKnowledgeBase.getStats().then(console.log)"

========================================
DOCUMENTACIÃ“N:
========================================

ğŸ“„ SISTEMA_APRENDIZAJE_LOCAL.md
   â†’ DocumentaciÃ³n tÃ©cnica completa

ğŸ“„ SOLUCION_RATE_LIMIT_GROQ.md
   â†’ Sistema de rotaciÃ³n de APIs

ğŸ“„ SOLUCION_METODOS_PAGO_PRODUCTO_INCORRECTO.md
   â†’ CorrecciÃ³n de contexto

========================================
FECHA: 2025-11-11
ESTADO: LISTO PARA ACTIVAR
========================================
