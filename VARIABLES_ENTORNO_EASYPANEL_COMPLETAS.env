# ============================================
# VARIABLES DE ENTORNO COMPLETAS PARA EASYPANEL
# Bot WhatsApp Inteligente - Tecnovariedades D&S
# ============================================

# === CORE APPLICATION ===
NODE_ENV=production
PORT=3000
NEXT_PUBLIC_APP_URL=https://bot-whatsapp.sqaoeo.easypanel.host

# === AI CONFIGURATION ===
# Groq API - Modelos pequeños primero para ahorrar tokens
GROQ_API_KEY=YOUR_GROQ_API_KEY_HERE
GROQ_MODEL=llama-3.1-8b-instant
GROQ_FALLBACK_MODELS=llama-3.1-8b-instant,gemma2-9b-it
GROQ_MAX_TOKENS=500
GROQ_TIMEOUT=60000

# Ollama (PRIORIDAD PRINCIPAL - ILIMITADO)
# URL de Easypanel: https://bot-whatsapp-ollama.sqaoeo.easypanel.host
# O si está en el mismo proyecto: http://ollama:11434
OLLAMA_BASE_URL=https://bot-whatsapp-ollama.sqaoeo.easypanel.host
OLLAMA_MODEL=llama3.2:3b
OLLAMA_ENABLED=true
OLLAMA_TIMEOUT=15000
OLLAMA_MAX_TOKENS=600

# ✅ MODELO ACTUALIZADO: llama3.2:3b
# - 50% más potente que gemma:2b
# - Respuestas más naturales y completas
# - Mejor comprensión del español
# - Tamaño: 1.88 GB
# 
# También disponible: llama3.1:8b (mejor calidad, más lento)
# Ver: MEJORAR_OLLAMA_EASYPANEL.md

# AI Provider Settings - OLLAMA PRIMERO (ilimitado)
AI_PROVIDER=ollama
DEFAULT_AI_PROVIDER=ollama
AI_FALLBACK_ORDER=ollama,groq
AI_AUTO_MODEL_DETECTION=true
AI_USE_REASONING=false

# === WHATSAPP CONFIGURATION ===
WHATSAPP_PROVIDER=baileys
SESSION_PATH=/data/whatsapp-sessions
NEXT_PUBLIC_WHATSAPP_NUMBER=573005560186

# Connection Monitoring
HEARTBEAT_INTERVAL=10000
RECONNECT_ATTEMPTS_MAX=100
RECONNECT_DELAY_BASE=500
RECONNECT_DELAY_MAX=60000
MAX_CONSECUTIVE_FAILURES=5
CONNECTION_HEALTH_THRESHOLD=80
ENABLE_CONNECTION_MONITOR=true
ENABLE_SESSION_RECOVERY=true
ENABLE_SOFT_RESET=true
ENABLE_AGGRESSIVE_RESET=true
ENABLE_CONSERVATIVE_MODE=true
SESSION_BACKUP_COUNT=3
SESSION_RECOVERY_TIMEOUT=30000

# === DATABASE ===
DATABASE_URL=postgresql://postgres:9feb7a0e7110d6a42e93@provedor-ia_bot-whatsapp-db:5432/botwhatsapp
DATABASE_PROVIDER=postgresql

# === AUTHENTICATION ===
# ⚠️ CAMBIAR ESTOS EN PRODUCCIÓN
NEXTAUTH_SECRET=tu-secret-key-aqui-cambiar-en-produccion
NEXTAUTH_URL=https://bot-whatsapp.sqaoeo.easypanel.host
JWT_SECRET=tu-jwt-secret-key-aqui

# === BUSINESS INFORMATION ===
BUSINESS_NAME=Tecnovariedades D&S
BUSINESS_ADDRESS=Colombia
BOT_NAME=Tecnovariedades D&S Bot
BOT_PHONE=+57 300 556 0186
BUSINESS_PHONE=+57 300 556 0186
BUSINESS_EMAIL=daveymena25@gmail.com
BOT_LANGUAGE=es

# === DROPSHIPPING (DROPI) ===
DROPI_AGENT_TOKEN=YOUR_DROPI_AGENT_TOKEN_HERE
DROPI_API_URL=https://app.dropi.co/api/v1
DROPI_ENABLED=true
DROPSHIPPING_SHIPPING_MIN=15000
DROPSHIPPING_SHIPPING_MAX=20000
DROPSHIPPING_PROFIT_MIN=20000
DROPSHIPPING_PROFIT_MAX=30000

# === PAYMENT METHODS ===
# Nequi & Daviplata
NEQUI_NUMBER=3005560186
DAVIPLATA_NUMBER=3005560186
BANK_NAME=Bancolombia
BANK_ACCOUNT_TYPE=Ahorros

# MercadoPago
MERCADO_PAGO_PUBLIC_KEY=YOUR_MERCADO_PAGO_PUBLIC_KEY_HERE
MERCADO_PAGO_ACCESS_TOKEN=YOUR_MERCADO_PAGO_ACCESS_TOKEN_HERE
MERCADO_PAGO_CLIENT_ID=YOUR_MERCADO_PAGO_CLIENT_ID_HERE

# PayPal
PAYPAL_CLIENT_ID=YOUR_PAYPAL_CLIENT_ID_HERE
PAYPAL_CLIENT_SECRET=YOUR_PAYPAL_CLIENT_SECRET_HERE
PAYPAL_MODE=live
PAYPAL_API_URL=https://api-m.paypal.com

# Cash on Delivery
CASH_ON_DELIVERY_ENABLED=true
DELIVERY_ZONES=Bogotá,Medellín,Cali

# === EMAIL SERVICES ===
# Resend
RESEND_API_KEY=YOUR_RESEND_API_KEY_HERE
RESEND_FROM_EMAIL=onboarding@resend.dev
EMAIL_FROM=Tecnovariedades D&S <onboarding@resend.dev>

# Gmail (backup)
GMAIL_USER=YOUR_GMAIL_USER_HERE
GMAIL_CLIENT_ID=YOUR_GMAIL_CLIENT_ID_HERE
GMAIL_CLIENT_SECRET=YOUR_GMAIL_CLIENT_SECRET_HERE
GMAIL_REFRESH_TOKEN=YOUR_GMAIL_REFRESH_TOKEN_HERE

# === ADMIN ===
ADMIN_EMAIL=daveymena16@gmail.com
ADMIN_PASSWORD=6715320Dvd.

# === FEATURE FLAGS ===
PHOTOS_ENABLED=true
AUDIO_ENABLED=true
HOT_RELOAD_ENABLED=true
AI_ENABLED=true
DYNAMIC_PRICING_ENABLED=true
WEB_ENABLED=true
WEB_AUTH=false

# === LOGGING ===
LOG_LEVEL=info
LOG_CONNECTION_EVENTS=true
LOG_HEARTBEAT_EVENTS=true
LOG_RECONNECTION_EVENTS=true

# ============================================
# ROTACIÓN DE APIs GROQ (Opcional pero Recomendado)
# ============================================
# Múltiples API keys de Groq para rotación automática
# El sistema rotará automáticamente cuando una alcance su límite
# Ver: VARIABLES_ROTACION_APIS.md

GROQ_API_KEY_2=YOUR_GROQ_API_KEY_2_HERE
GROQ_API_KEY_3=YOUR_GROQ_API_KEY_3_HERE
GROQ_API_KEY_4=YOUR_GROQ_API_KEY_4_HERE
GROQ_API_KEY_5=YOUR_GROQ_API_KEY_5_HERE
GROQ_API_KEY_6=YOUR_GROQ_API_KEY_6_HERE
GROQ_API_KEY_7=YOUR_GROQ_API_KEY_7_HERE
GROQ_API_KEY_8=YOUR_GROQ_API_KEY_8_HERE

# ============================================
# NOTAS IMPORTANTES
# ============================================
# 1. Cambia NEXTAUTH_SECRET y JWT_SECRET antes de producción
#    Genera con: openssl rand -base64 32
#
# 2. Cambia ADMIN_PASSWORD a algo más seguro
#
# 3. Las variables GROQ_API_KEY_2 a GROQ_API_KEY_8 son opcionales
#    Solo agrégalas si tienes múltiples APIs de Groq
#
# 4. Asegúrate de que DATABASE_URL apunte a tu base de datos PostgreSQL
#
# 5. SESSION_PATH debe ser un volumen persistente en Easypanel
#    para mantener las sesiones de WhatsApp
